<section data-page="book" data-fixedwidth>
	<aside
		id="book-nav"
		hidden
		ng-controller="book-nav"
		ng-init='
			books = [{
				name: "start",
				text: "快速使用",
				fold: false,
				navs: [{
					name: "index",
					text: "快速使用"
				}]
			}, {
				name: "theory",
				text: "解析原理",
				fold: false,
				navs: [{
					name: "intro",
					text: "序"
				}, {
					name: "structure",
					text: "文档结构"
				}, {
					name: "logic",
					text: "解析逻辑"
				}, {
					name: "version",
					text: "版本迭代"
				}, {
					name: "syntax-element",
					text: "SyntaxElement"
				}, {
					name: "syntax-tag",
					text: "SyntaxTag"
				}, {
					name: "tag-class",
					text: "TagClass"
				}, {
					name: "tag-type",
					text: "TagType"
				}, {
					name: "syntax-tags",
					text: "SyntaxTags"
				}, {
					name: "expression",
					text: "Expression"
				}, {
					name: "statement",
					text: "Statement"
				}, {
					name: "statements",
					text: "Statements"
				}, {
					name: "content-builder",
					text: "ContentBuilder"
				}, {
					name: "mapping-builder",
					text: "MappingBuilder"
				}, {
					name: "syntax-parser",
					text: "SyntaxParser"
				}, {
					name: "demo-question-assignment",
					text: "解析示例 - 简单版"
				}, {
					name: "demo-try-function",
					text: "解析示例 - 复杂版"
				}]
			}, {
				name: "profile",
				text: "性能攻略",
				fold: false,
				navs: [{
					name: "intro",
					text: "序"
				}, {
					name: "dom",
					text: "DOM 性能"
				},{
					name: "object",
					text: "对象性能"
				}, {
					name: "array",
					text: "数组性能"
				}, {
					name: "function",
					text: "函数性能"
				}, {
					name: "regexp",
					text: "正则性能"
				}]
			}];
		'
	>
		<dl ng-repeat="book in books track by $index">
			<dt data-fold="{{book.fold}}">
				<span data-border="black"></span>
				<button ng-click="book.fold = !book.fold">{{book.text}}</button>
			</dt>
			<dd>
				<a
					ng-repeat="nav in book.navs track by $index"
					ui-sref='book({name: "{{book.name}}",nav:"{{nav.name}}"})'
					data-focus="{{book.name === $state.params.name && nav.name === $state.params.nav}}"
				>
					{{nav.text}}
				</a>
			</dd>
		</dl>
	</aside>
	<dl id="book-context" ng-controller="book-context">
		<dt></dt>
		<dd ng-controller="markdown" data-src='{{"./doc/" + path + ".md"}}'></dd>
	</dl>
</section>